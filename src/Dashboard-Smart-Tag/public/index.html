<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dashboard Smart-Tag</title>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
  <!-- Firebase features -->
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
  <script>
         // REPLACE WITH YOUR web app's Firebase configuration
         const firebaseConfig = {
        apiKey: "AIzaSyDF6XTQXIhNhPK8k04pCCpXmSqN2RBY5Zk",
        authDomain: "esp-firebase-vitor.firebaseapp.com",
        databaseURL: "https://esp-firebase-vitor-default-rtdb.firebaseio.com",
        projectId: "esp-firebase-vitor",
        storageBucket: "esp-firebase-vitor.appspot.com",
        messagingSenderId: "909227729500",
        appId: "1:909227729500:web:a3b4fd749cf59d8a66fc99"
      };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    // Auth and database references
    const auth = firebase.auth();
    const db = firebase.database();
  </script>
  <!-- Highcharts for charts -->
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <!-- jQuery for use -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Font Awesome icons -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <!-- Gauges JavaScript library -->
  <script src="https://cdn.rawgit.com/Mikhus/canvas-gauges/gh-pages/download/2.1.7/all/gauge.min.js"></script>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png">
  <!-- Stylesheet -->
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
</head>
<body>
  <!-- Sidebar -->
  <section class="sidebar" id="sidebar">
    <div class="nav-header">
      <p class="logo">Scorpion<span></span> </p>
      <i class="bx bx-menu btn-menu"></i>
    </div>
    <ul class="nav-links">
      <li>
        <i class="bx bx-search search-btn"></i>
        <input type="text" placeholder="Pesquisar dispositivos" />
        <span class="tooltip">Pesquisar</span>
      </li>
      <li>
        <a href="index.html">
          <i class="bx bx-home-alt-2"></i>
          <span class="title">Início</span>
        </a>
        <span class="tooltip">Início</span>
      </li>
      <li>
        <a href="#">
          <i class='bx bxs-dashboard'></i>
          <span class="title">Dashboard</span>
        </a>
        <span class="tooltip">Dashboard</span>
      </li>
      <li>
        <a href="/" id="dispositivos-option">
          <i class="bx bx-devices"></i>
          <span class="title">Dispositivos</span>
        </a>
        <span class="tooltip">Dispositivos</span>
      </li>
      <li>
        <a href="#">
          <i class='bx bx-line-chart'></i>
          <span class="title">Gráficos</span>
        </a>
        <span class="tooltip">Gráficos</span>
      </li>
      <li>
        <a href="#">
          <i class="bx bx-cog"></i>
          <span class="title">Configurações</span>
        </a>
        <span class="tooltip">Configurações</span>
      </li>
      <li>
        <a href="/" id="logout-link">
          <i class='bx bx-log-in'></i>
          <span class="title">Sair</span>
        </a>
        <span class="tooltip">Sair</span>
      </li>
      <div class="theme-wrapper">
        <i class="bx bxs-moon theme-icon"></i>
        <p>Tema Escuro</p>
        <div class="theme-btn">
          <span class="theme-ball"></span>
        </div>
      </div>
    </ul>
  </section>
  <!-- Home -->
  <section class="home" id="home">
    <div class="hero-content" id="hero-content">
      <div class="main-content" id="main-content">
        <!-- Authentication Bar -->
        <div id="authentication-bar" style="display: none;">
          <p>
            <span id="authentication-status">Usuário logado</span>
            <span id="user-details">USEREMAIL</span>
          </p>
        </div>
            <!-- Login Form -->
    <form id="login-form" style="display: none;">
      <div class="form-elements-container">
        <label for="input-email"><b>E-mail</b></label>
        <input type="text" placeholder="Digite seu e-mail" id="input-email" required>

        <label for="input-password"><b>Senha</b></label>
        <input type="password" placeholder="Digite sua senha" id="input-password" required>

        <button type="submit" id="login-button">Entrar</button>
        <p id="error-message" style="color:red;"></p>
      </div>
    </form>

    <!-- Content (Sensor Readings) -->
    <div class="content-sign-in" id="content-sign-in" style="display: none;">
      <p>
        <span class="date-time">Última atualização: <span id="lastUpdate"></span></span>
      </p>
      <p>
        <div class="status-container">
          <div class="bolinha" id="bolinha"></div>
          <span id="status" class="status"></span>
        </div>
        Card: <input type="checkbox" id="cards-checkbox" name="cards-checkbox" checked>
        Gauge: <input type="checkbox" id="gauges-checkbox" name="gauges-checkbox" unchecked>
        Gráfico: <input type="checkbox" id="charts-checkbox" name="charts-checkbox" unchecked>
      </p>
      <div id="cards-div">
        <div class="cards">
          <div class="card">
            <p><i class="fas fa-signal"></i> <label></label>WI-FI</label></p>
            <p><span class="reading"><span id="temp"></span> dBm</span></p>
          </div>
          <div class="card">
            <p><i class="fas fa-map"></i><label>Distância aproximada</label></p>
            <p><span class="reading"><span id="distance"></span> metros</span></p>
          </div>
        </div>
      </div>
      <div id="gauges-div">
        <div class="cards">
          <div class="card">
            <canvas id="gauge-temperature"></canvas>
          </div>
        </div>
      </div>
      <div id="charts-div" style="display:none">
        <div>
          <p> Número de leituras: <input type="number" id="charts-range"></p>
        </div>
        <div class="cards">
          <div class="card">
            <p><i class="fas fa-thermometer-half" style="color:#059e8a;"></i> GRÁFICO DE FORÇA DO SINAL WI-FI</p>
            <div id="chart-temperature" class="chart-container"></div>
          </div>
        </div>
      </div>
      <p>
        <button id="view-data-button">Visualizar todos os dados</button>
        <button id="hide-data-button" style="display:none;">Ocultar dados</button>
        <button id="delete-button" class="deletebtn">Apagar dados</button>
      </p>
      <div id="delete-modal" class="modal" style="display:none">
        <span onclick="document.getElementById('delete-modal').style.display='none'" class="close" title="Close Modal">×</span>
        <form id="delete-data-form" class="modal-content" action="">
          <div class="container">
            <h1>Apagar dados</h1>
            <p>Tem certeza que quer apagar todos os dados do banco de dados?</p>
            <div class="clearfix">
              <button type="button" onclick="document.getElementById('delete-modal').style.display='none'" class="cancelbtn">Cancelar</button>
              <button type="submit" onclick="document.getElementById('delete-modal').style.display='none'" class="deletebtn">Apagar</button>
            </div>
          </div>
        </form>
      </div>
      <div class="cards">
        <div class="card" id="table-container" style="display:none;">
          <table id="readings-table">
            <tr id="theader">
              <th>Data/Hora</th>
              <th>Força Wi-Fi (dBm)</th>
            </tr>
            <tbody id="tbody"></tbody>
          </table>
          <p><button id="load-data" style="display:none;">Mais resultados...</button></p>
        </div>
      </div>

    </div>
  </div>
</div>
<div id="elemento-novo">
<button class="cssbuttons-io-button">
  <span class="button-text">Clique Aqui</span>
  <span class="icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M7 10l5 5 5-5H7z"/>
    </svg>
  </span>
</button>
</div>
</section>
<!-- Include JS files -->
<script src="scripts/auth.js"></script>
<script src="scripts/charts-definition.js"></script>
<script src="scripts/gauges-definition.js"></script>
<script src="scripts/index.js"></script>
<script src="scripts/receberStatus.js"></script>
<script src="scripts/menuLateral.js"></script>
<script src="scripts/dispositivos.js"></script>
</body>
</html>